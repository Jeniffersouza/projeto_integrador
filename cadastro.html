<!-- Seu HTML existente -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <h1>Cadastro</h1>

  <form id="cadastroForm">
    <label for="cpf">CPF:</label>
    <input type="text" id="cpf" name="cpf" required>

    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>

    <label for="password">Senha:</label>
    <input type="password" id="password" name="password" required>

    <label for="name">Nome:</label>
    <input type="text" id="name" name="name" required>

    <button type="submit" id="cadastrarBtn">Cadastrar</button>
  </form>

  <!-- Adicione isso ao cabeçalho da sua página HTML -->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const form = document.getElementById('cadastroForm');
    const cpfInput = document.getElementById('cpf');
    const emailInput = document.getElementById('email');
    const passwordInput = document.getElementById('password');
    const nameInput = document.getElementById('name');
    const cadastrarBtn = document.getElementById('cadastrarBtn');

    form.addEventListener('submit', function (event) {
      event.preventDefault();

      const userData = {
        cpf: cpfInput.value,
        email: emailInput.value,
        password: passwordInput.value,
        name: nameInput.value,
      };

      // Substitua a URL pela URL da sua API
      const apiUrl = 'http://localhost:3000/register';

      axios.post(apiUrl, userData)
        .then(function (response) {
          console.log(response.data); // Exibe a resposta do servidor no console
          alert('Usuário cadastrado com sucesso!');
          window.location.href = 'index.html';
        })
        .catch(function (error) {
          console.error(error);
          alert('Erro ao cadastrar usuário. Verifique o console para mais detalhes.');
        });
    });
  });
</script>


</body>
</html>
